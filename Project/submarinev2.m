clearvars;
z = [    0, 500,1000,1500,2000,2500,3000,3500,4000,5000,6000,7000,8000,9000,10000,11000,12000];
cV = [5050,4980,4930,4890,4870,4865,4860,4860,4865,4875,4885,4905,4920,4935,4950,4970,4990];
format short g;

%17 ekvationer --> c(z(i)) -cV(i) = 0;
syms p;
F=@(p)(4800 + p(1))*ones(size(z)) +p(2)/1000*z+p(3)*exp(p(4)/1000*z)-cV
J = @(p) p(2)/1000 - (p(3)*exp(-z/1000))/1000;
% for i=1:1:size(z')
%    F = [F; 4800 + p(1) + p(2) .* (z(i)/1000) + p(3) .*  exp(p(4) .* (z(i)/1000)) - cV(i)];
%    
%    
%    %J = @(p) p(2)/1000 - (p(3)*exp(-z(i)/1000))/1000;
% end
p = [5.6596, 14.582, 257.43]
x = -J(p)\F(p)